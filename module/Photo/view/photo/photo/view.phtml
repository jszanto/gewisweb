<?php $this->headScript()->prependFile($this->basePath() . '/js/photo.js'); ?>
<?php $this->headLink()->prependStylesheet($this->basePath() . '/css/photo.css'); ?>
<?php if ($photo != null): ?>
    <div clas="row">
        <nav>
            <ul class="pager">
                <li class="previous"><a href="/photo/album/<?= $photo->getAlbum()->getId(); ?>"><span
                            aria-hidden="true">&larr;</span><?= $this->translate('Return to album') ?></a></li>
            </ul>
        </nav>
    </div>
    <div class="row">
        <div class="col-lg-9">
            <div class="wrap">
                <img src="<?= $basedir . '/' . $photo->getLargeThumbPath() ?>" alt="">
                <?php foreach($photo->getFaces() as $face): ?>
                    <div class="face" style="width:<?= $face->getWidth()*1.5 ?>px; height: <?= $face->getHeight()*1.5 ?>px; top:<?= $face->getY() - 0.25* $face->getHeight(); ?>px; left:<?= $face->getX()  - 0.25 * $face->getWidth();?>px;">

                    </div>

                <?php endforeach; ?>
            </div>
        </div>
        <div class="col-lg-3">
            <table class="table table-condensed">
                <tbody>
                    <tr>
                        <td><?= $this->translate('Artist') ?></td>
                        <td><?= is_null($photo->getArtist()) ? $this->translate("Unknown") : $photo->getArtist() ?></td>
                    </tr>
                    <tr>
                        <td><?= $this->translate('Camera') ?></td>
                        <td><?= is_null($photo->getCamera()) ? $this->translate("Unknown") : $photo->getCamera() ?></td>
                    </tr>
                    <tr>
                        <td><?= $this->translate('Date/time') ?></td>
                        <td><?= $photo->getDateTime()->format('Y-m-d H:i:s'); ?></td>
                    </tr>
                    <tr>
                        <td><?= $this->translate('Flash') ?></td>
                        <td><?= $photo->getFlash() ? $this->translate('Yes') : $this->translate('No') ?></td>
                    </tr>
                    <tr>
                        <td><?= $this->translate('Focal length') ?></td>
                        <td><?= is_null($photo->getFocalLength()) ? $this->translate("Unknown") : $photo->getFocalLength() ?></td>
                    </tr>
                    <tr>
                        <td><?= $this->translate('Exposure time') ?></td>
                        <td><?= is_null($photo->getExposureTime()) ? $this->translate("Unknown") : $photo->getExposureTime() ?></td>
                    </tr>
                    <tr>
                        <td><?= $this->translate('Shutter speed') ?></td>
                        <td><?= is_null($photo->getShutterSpeed()) ? $this->translate("Unknown") : $photo->getShutterSpeed() ?></td>
                    </tr>
                    <tr>
                        <td><?= $this->translate('Aperture') ?></td>
                        <td><?= is_null($photo->getAperture()) ? $this->translate("Unknown") : $photo->getAperture() ?></td>
                    </tr>
                    <tr>
                        <td><?= $this->translate('ISO') ?></td>
                        <td><?= is_null($photo->getIso()) ? $this->translate("Unknown") : $photo->getIso() ?></td>
                    </tr>
                    </tbody>
            </table>

            <nav>
                <ul class="pager">
                    <?php if (!is_null($previous)): ?>
                        <li><a id="previous"
                               href="/photo/view/<?= $previous->getId(); ?>"><?= $this->translate('Previous') ?></a>
                        </li>
                    <?php
                    endif;
                    if (!is_null($next)):
                        ?>
                        <li><a id="next" href="/photo/view/<?= $next->getId(); ?>"><?= $this->translate('Next') ?></a>
                        </li>
                    <?php endif; ?>
                </ul>
            </nav>
        </div>
    </div>
<?php endif; ?>
